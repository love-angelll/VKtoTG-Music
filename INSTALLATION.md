# Полная инструкция по установке и запуску

[![GitHub](https://img.shields.io/badge/GitHub-love--angelll-%2312101C?style=for-the-badge&logo=github&logoColor=white)](https://github.com/love-angelll)

## Описание

Этот бот ВКонтакте автоматически отправляет музыку, полученную в личных сообщениях группы, в канал Telegram. Для администратора нет ограничений по количеству отправленных треков, для остальных пользователей установлен лимит — не более 20 треков в день.

## Установка и настройка

Для использования бота нужно выполнить несколько шагов для его установки и настройки.

### 1. Создание ботов

1. **Создайте бота в Telegram**:
   - Перейдите в [BotFather](https://core.telegram.org/bots#botfather) в Telegram.
   - Создайте нового бота и получите API-ключ.
   - Сохраните API-ключ, он понадобится для настройки бота.

2. **Создайте бота в ВКонтакте**:
   - Зайдите в [группу ВКонтакте](https://vk.com/), в которой вы хотите разместить бота.
   - Создайте нового бота с помощью [VK API](https://vk.com/dev).
   - Получите токен доступа для бота ВКонтакте.

### 2. Настройка бота

1. Скачайте все необходимые файлы для бота и создайте директорию для проекта.
   
2. Создайте файл `adm.json`, в котором будут указаны ID администраторов:

```json
   {
     "admins": [
       123456789,  // ID первого администратора
       987654321   // ID второго администратора
     ]
   }
```

3. Создайте файл `keys.json`, в котором будет храниться информация о ключах пользователей и их привязке.

Пример как должен выглядеть структура его. (файл сам создаётся и заполняется)

```json
{
  "123456789": {
    "count": 0,
    "key": "abcd1234",  // Сгенерированный ключ
    "tg_id": 1234567890
  },
  "987654321": {
    "count": 15,
    "key": "wxyz5678",
    "tg_id": 9876543210
  }
}
```

4. В файле `main.py` настройте токены для Telegram и ВКонтакте:

```python
vk_token = "YOUR_VK_TOKEN"
tg_token = "YOUR_TG_BOT_TOKEN"
```

3. Запуск бота

После того как вы настроили все файлы и внесли данные, запускайте бота командой:

```bash
python main.py
```

Теперь бот будет работать и готов принимать аудиофайлы в ВКонтакте и пересылать их в Telegram.

## Инструкции по использованию

1. Запросить ключ для привязки:

Отправьте команду `/reg` в личные сообщения вашей группы ВКонтакте.

Получите одноразовый ключ и используйте его для привязки в Telegram.


2. Отправка музыки:

После привязки, отправляйте аудиофайлы в личные сообщения вашей группы ВКонтакте.

Бот автоматически пересылает треки в ваш Telegram.



3. Ограничения на отправку:

Обычные пользователи могут отправить не более 20 треков в день.

Администраторы не ограничены.


## Технические детали

Используемые библиотеки:

`vk-api:` для взаимодействия с API ВКонтакте.

`python-telegram-bot:` для взаимодействия с Telegram API.

`json:` для работы с конфигурационными файлами.

`random, string:` для генерации случайных ключей.


### Файлы конфигурации:

`adm.json:` хранит информацию об администраторах, которые не имеют ограничений по отправке треков.

`keys.json:` хранит информацию о пользователях, их ключах и привязанных аккаунтах в Telegram.

#### Важные замечания

Не передавайте свои ключи API другим пользователям.

Убедитесь, что ваш бот ВКонтакте имеет права на отправку сообщений в личные сообщения.

Использование бота требует наличия аккаунта в Telegram и доступ к интернету.



### ⚖️ Лицензия

Этот проект распространяется под [MIT License](./INSTALLATION.md). Пожалуйста, ознакомьтесь с лицензией перед использованием и модификацией кода.

Обратите внимание, что использование этого кода в коммерческих целях, а также развитие и продажа групп ВКонтакте с использованием данного кода запрещены.
